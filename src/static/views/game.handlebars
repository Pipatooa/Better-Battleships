{{> banner}}

<div class="container-fluid py-5 main-container">
    <div class="container text-center secondary-container d-none" id="game-container">
        <div class="px-2 pt-2 text-start border border-dark bg-body d-none" id="game-tooltip">
            <div class="mb-2 d-none" id="game-tooltip-tile-section">
                <p class="mb-0">
                    <b>(<span id="game-tooltip-tile-coordinates">X, Y</span>): <span id="game-tooltip-tile-name">Tile Name</span></b>
                    <br>Traversable: <span id="game-tooltip-tile-traversable">True</span>
                </p>
            </div>
            <div class="mb-2 d-none" id="game-tooltip-ship-section">
                <p class="mb-0">
                    <b id="game-tooltip-ship-name">Ship Name</b>
                    <br>Owner: <span id="game-tooltip-ship-owner">Player Name</span>
                    <br>Attributes:
                </p>
                <ul class="attribute-list" id="game-tooltip-ship-attribute-list">
                    <li><span>Health</span>: <span>5</span></li>
                </ul>
            </div>
            <div class="mb-2 d-none" id="game-tooltip-player-section">
                <p class="mb-0">
                    <b><span id="game-tooltip-player-name">Player Name</span></b>
                    <br>Team: <span id="game-tooltip-player-team">Team Name</span>
                    <br>Attributes:
                </p>
                <ul class="attribute-list" id="game-tooltip-player-attributes">
                    <li><span>Ships Remaining</span>: <span>3</span></li>
                </ul>
            </div>
        </div>
        <div class="row p-0 border border-dark rounded-3">
            <div class="col-8 p-0 border-end border-dark">
                <div class="canvas-wrapper">
                    <canvas id="board-canvas" width="450" height="300">
                        Sorry, your browser does not support the canvas element.
                    </canvas>
                    <canvas id="ship-canvas" width="450" height="300"></canvas>
                    <canvas id="selected-ship-canvas" width="450" height="300"></canvas>
                </div>
            </div>
            <div class="col-4 p-3 text-start">
                <div id="ship-selection-pane">
                    <h5><b>Place Ships:</b></h5>
                    <p>
                        Select a ship by clicking on it from this window and place it onto the board on the left half of this page. The direction the ship is facing is shown by an arrow pointing in that direction.
                        <br>If the ship can be rotated, press <kbd>R</kbd> to rotate it.
                    </p>
                    <div class="canvas-wrapper">
                        <canvas id="ship-selection-canvas" width="100" height="100"></canvas>
                    </div>
                    <div class="row w-100 mx-auto mt-2">
                        <div class="px-0" id="button-previous-container">
                            <button class="btn btn-dark w-100" id="button-previous-ship">< Previous</button>
                        </div>
                        <div class="px-0" id="button-next-container">
                            <button class="btn btn-dark w-100" id="button-next-ship">Next ></button>
                        </div>
                        <button class="btn btn-dark w-100 d-none" id="button-placement-done">Done</button>
                    </div>
                </div>
                <div class="d-flex flex-column h-100 d-none" id="info-pane">
                    <div id="info-pane-ship-section">
                        <h5><b><span id="info-pane-ship-name">Ship Name</span>:</b></h5>
                        <p>
                            Owner: <span id="info-pane-ship-owner">Player Name</span>
                            <br>Description: <span id="info-pane-ship-description">This is a description for the ship.</span>
                        </p>
                        <p class="mb-0"><b>Attributes:</b></p>
                        <ul class="attribute-list" id="info-pane-ship-attributes">
                            <li><span>Health</span>: <span>5</span></li>
                        </ul>
                        <p class="mb-2"><b>Abilities:</b></p>
                        <div class="d-grid mb-2" id="ability-container">
                            <div class="ability border border-2 border-dark selected-ability"></div>
                            <div class="ability border border-2 border-dark ability-unavailable"></div>
                            <div class="ability border border-2 border-dark"></div>
                            <div class="ability border border-2 border-dark"></div>
                        </div>
                        <p>
                            <span id="ability-name">Ability Name</span>:
                            <br><span id="ability-description">This is a description for the selected ability</span>
                        </p>
                        <p id="ability-help-text">
                            To use this movement ability, click on a valid new location for the ship to go to. The range of cells which the ship can move to have been highlighted.
                        </p>
                    </div>
                    <div class="mt-auto d-none" id="info-pane-turn-section">
                        <h5><b>Turn:</b></h5>
                        <div class="row g-2 mb-2 text-center" id="turn-indicator-container">
                            <div class="col">
                                <div class="turn-indicator py-1 px-2 rounded-3">Player 1</div>
                            </div>
                            <div class="col">
                                <div class="turn-indicator py-1 px-2 rounded-3 turn-indicator-active">Player 2</div>
                            </div>
                            <div class="col">
                                <div class="turn-indicator py-1 px-2 rounded-3">Player 3</div>
                            </div>
                            <div class="col">
                                <div class="turn-indicator py-1 px-2 rounded-3">Player 4</div>
                            </div>
                            <div class="col">
                                <div class="turn-indicator py-1 px-2 rounded-3">Player 5</div>
                            </div>
                            <div class="col">
                                <div class="turn-indicator py-1 px-2 rounded-3">Player 6</div>
                            </div>
                            <div class="col">
                                <div class="turn-indicator py-1 px-2 rounded-3">Player 7</div>
                            </div>
                        </div>
                        <button class="btn w-100 btn-dark" id="button-end-turn">
                            End Turn <span>[<span id="turn-time-minutes">3</span>:<span id="turn-time-seconds">00</span>]</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container p-0" id="lobby-container">
        <div class="row mx-0 border border-dark rounded-3 secondary-container">
            <div class="col-8 p-0 border-end border-dark">
                <div class="d-flex flex-column h-100 p-0">
                    <div class="p-3 border-bottom border-dark">
                        <h3>Teams:</h3>
                        <p>Select a team to join.</p>
                    </div>
                    <div id="teams-list"></div>
                    <div class="p-3">
                        <h5 class="mb-0"><b>Unassigned</b></h5>
                        <p>Players who are not current assigned to any team.</p>
                        <div id="unassigned-players"></div>
                    </div>
                    <div class="mt-auto p-3">
                        <p class="mb-0"><b id="lobby-status-text">Waiting for all players to be ready...</b></p>
                    </div>
                </div>
            </div>
            <div class="col-4 px-0">
                <div class="d-flex flex-column h-100 p-3">
                    <h3>Scenario Information:</h3>
                    <div class="row">
                        <div class="col-6">
                            <p>
                                <b>Name:</b>
                                <br><span id="scenario-name-field"></span>
                            </p>
                        </div>
                        <div class="col-6">
                            <p>
                                <b>Author:</b>
                                <br><span id="scenario-author-field"></span>
                            </p>
                        </div>
                    </div>
                    <p>
                        <b>Description:</b>
                        <br><span class="text-wrap" id="scenario-description-field"></span>
                    </p>
                    <button class="btn mt-auto text-center btn-dark" id="ready-button">Ready</button>
                </div>
            </div>
        </div>
        <div class="w-50 mx-auto mt-4 p-3 text-center border border-dark rounded-3 secondary-container">
            <h3>Game Link:</h3>
            <p class="mx-auto mb-2" id="game-link" data-bs-toggle="tooltip" data-bs-placement="right" title="Copy to Clipboard">{{baseUrl}}{{gameUrl}}</p>
        </div>
    </div>
</div>