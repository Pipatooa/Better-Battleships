<div class="" id="lobby-container">
    {{> banner}}
    <div class="container-fluid py-5 main-container">
        <div class="container p-0">
            <div class="row mx-0 border border-dark rounded-3 secondary-container">
                <div class="col-8 p-0 border-end border-dark">
                    <div class="d-flex flex-column h-100 p-0">
                        <div class="p-3 border-bottom border-dark">
                            <h3>Teams:</h3>
                            <p>Select a team to join.</p>
                        </div>
                        <div id="teams-list"></div>
                        <div class="p-3">
                            <h5 class="mb-0"><b>Unassigned</b></h5>
                            <p>Players who are not current assigned to any team.</p>
                            <div id="unassigned-players"></div>
                        </div>
                        <div class="mt-auto p-3">
                            <p class="mb-0"><b id="lobby-status-text">Waiting for all players to be ready...</b></p>
                        </div>
                    </div>
                </div>
                <div class="col-4 px-0">
                    <div class="d-flex flex-column h-100 p-3">
                        <h3>Scenario Information:</h3>
                        <div class="row">
                            <div class="col-6">
                                <p>
                                    <b>Name:</b>
                                    <br><span id="scenario-name-field"></span>
                                </p>
                            </div>
                            <div class="col-6">
                                <p>
                                    <b>Author:</b>
                                    <br><span id="scenario-author-field"></span>
                                </p>
                            </div>
                        </div>
                        <p>
                            <b>Description:</b>
                            <br><span class="text-wrap" id="scenario-description-field"></span>
                        </p>
                        <button class="btn mt-auto text-center btn-dark" id="ready-button">Ready</button>
                    </div>
                </div>
            </div>
            <div class="w-50 mx-auto mt-4 p-3 text-center border border-dark rounded-3 secondary-container">
                <h3>Game Link:</h3>
                <p class="mx-auto mb-2" id="game-link" data-bs-toggle="tooltip" data-bs-placement="right" title="Copy to Clipboard">{{baseUrl}}{{gameUrl}}</p>
            </div>
        </div>
    </div>
</div>
<div class="h-100 d-none" id="game-container">
    <div class="px-2 pt-2 text-start border border-dark bg-body d-none" id="game-tooltip">
        <div class="mb-2 d-none" id="game-tooltip-info-section">
            <p class="mb-0">
                <b id="game-tooltip-info-title"></b>
                <br><span id="game-tooltip-info-text"></span>
            </p>
        </div>
        <div class="mb-2 d-none" id="game-tooltip-tile-section">
            <p class="mb-0">
                <b>(<span id="game-tooltip-tile-coordinates"></span>): <span id="game-tooltip-tile-name"></span></b>
                <br>Traversable: <span id="game-tooltip-tile-traversable"></span>
                <span id="game-tooltip-tile-regions-section"><br><span id="game-tooltip-tile-regions"></span></span>
            </p>
        </div>
        <div class="mb-2 d-none" id="game-tooltip-ship-section">
            <p class="mb-0">
                <b id="game-tooltip-ship-name"></b>
                <br>Owner: <span id="game-tooltip-ship-owner"></span>
            </p>
            <div class="mt-2" id="game-tooltip-ship-attribute-section">
                <p class="mb-0"><b>Attributes:</b></p>
                <ul class="attribute-list" id="game-tooltip-ship-attribute-list">
                    <li><span>Health</span>: <span>5</span></li>
                </ul>
            </div>
        </div>
        <div class="mb-2 d-none" id="game-tooltip-player-section">
            <p class="mb-0">
                <b><span id="game-tooltip-player-name">Player Name</span></b>
                <br>Team: <span id="game-tooltip-player-team">Team Name</span>
            </p>
            <div id="game-tooltip-player-attribute-section">
                <p class="mb-0">Attributes:</p>
                <ul class="attribute-list" id="game-tooltip-player-attribute-list">
                    <li><span>Ships Remaining</span>: <span>3</span></li>
                </ul>
            </div>
        </div>
    </div>
    <div class="row h-100 mx-0 p-0 border-top border-dark">
        <div class="col-10 p-0 border-end border-dark">
            <div id="info-popup">
                <div class="row">
                    <div class="d-flex justify-content-center">
                        <div class="col-md-8">
                            <div class="d-flex flex-column">
                                <div class="card mt-auto">
                                    <div class="card-body">
                                        <h5><b><span id="info-popup-title">Placing Ships</span>:</b></h5>
                                        <div id="info-popup-content">
                                            <p>
                                                Ships to be placed are available on the sidebar (right of screen).
                                                Cycle through the ships using the <kbd>Previous</kbd> and <kbd>Next</kbd> buttons and select a ship by clicking on it.
                                                Stats for the different ships are shown on the sidebar including their name, description, attributes and abilities which are available to the ship.
                                            </p>
                                            <p>
                                                Drag the ship to a suitable location on the board (left of screen) and click again to place the ship.
                                                The ship can only be placed within the highlighted region, and must be placed on traversable tiles (indicated by a âœ“ in the tooltip).
                                                If the ship can be rotated, press <kbd>R</kbd> to rotate it.
                                                To change the placement of a ship, click on it again to pick it back up.
                                            </p>
                                            <p>
                                                Once you have placed all of your ships, hit the <kbd>Done</kbd> button.
                                            </p>
                                            <p>
                                                To bring this prompt up again, click on the info button in the bottom left of the screen.
                                            </p>
                                        </div>
                                        <button class="btn btn-dark" id="info-popup-close-button">OK</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="main-container border-top border-end border-dark" id="view-panel">
                <div class="row text-center">
                    <div class="col" id="placement-view-container">
                        <div class="view p-3 border border-dark view-active" id="placement-view-button">Placement</div>
                    </div>
                    <div class="col">
                        <div class="view p-3 border border-dark" id="visibility-view-button">Visibility</div>
                    </div>
                    <div class="col">
                        <div class="view p-3 border border-dark" id="normal-view-button">Normal</div>
                    </div>
                </div>
            </div>
            <div class="canvas-wrapper h-100">
                <canvas width="100" height="100" id="game-canvas">
                    Sorry, your browser does not support the canvas element.
                </canvas>
            </div>
        </div>
        <div class="col-2 h-100 p-3 text-start">
            <div class="d-flex flex-column h-100">
                <div class="d-flex flex-column flex-grow-1 flex-shrink-1 mb-4" id="sidebar-ship-section">
                    <h4><b><span id="sidebar-ship-name">Ship Name</span>:</b></h4>
                    <p>
                        Owner: <span id="sidebar-ship-owner">Player Name</span>
                        <br>Description: <span id="sidebar-ship-description">This is a description for the ship.</span>
                    </p>
                    <div id="sidebar-ship-attribute-section">
                        <h5 class="mb-0"><b>Attributes:</b></h5>
                        <ul class="attribute-list" id="sidebar-ship-attribute-list">
                            <li><span>Health</span>: <span>5</span></li>
                        </ul>
                    </div>
                    <div id="sidebar-ship-ability-section">
                        <h5 class="mb-2"><b>Abilities:</b></h5>
                        <div class="d-grid mb-2" id="sidebar-ship-ability-container">
                            <div class="ability border border-2 border-dark selected-ability"></div>
                            <div class="ability border border-2 border-dark ability-unavailable"></div>
                            <div class="ability border border-2 border-dark"></div>
                            <div class="ability border border-2 border-dark"></div>
                        </div>
                        <div id="sidebar-ship-ability-info-section">
                            <p>
                                <b id="sidebar-ship-ability-name">Ability Name</b>:
                                <br><span id="sidebar-ship-ability-description">This is a description for the selected ability</span>
                            </p>
                            <div id="sidebar-ship-ability-attribute-section">
                                <p class="mb-0"><b>Attributes:</b></p>
                                <ul class="attribute-list" id="sidebar-ship-ability-attribute-list">
                                    <li><span>Health</span>: <span>5</span></li>
                                </ul>
                            </div>
                            <div class="canvas-wrapper w-100" id="sidebar-ship-ability-canvas-wrapper">
                                <canvas width="100" height="100" id="ability-canvas"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="flex-grow-0 mt-auto" id="sidebar-ship-selection-section">
                    <span><h4 class="d-inline-block"><b>Place Ships:</b></h4> (<span id="sidebar-ship-selection-remaining-count">2</span> Remaining)</span>
                    <div class="d-flex flex-column mt-auto">
                        <div class="canvas-wrapper flex-grow-1">
                            <canvas width="100" height="100" id="ship-selection-canvas"></canvas>
                        </div>
                        <div class="w-100 mx-auto mt-2">
                            <div class="row m-0" id="cycle-ship-button-container">
                                <div class="px-0" id="previous-ship-button-container">
                                    <button class="btn btn-dark w-100" id="previous-ship-button">< Previous</button>
                                </div>
                                <div class="px-0" id="next-ship-button-container">
                                    <button class="btn btn-dark w-100" id="next-ship-button">Next ></button>
                                </div>
                            </div>
                            <button class="btn btn-dark w-100 d-none" id="placement-done-button">Done</button>
                        </div>
                    </div>
                </div>
                <div class="flex-grow-0 mt-auto d-none" id="sidebar-turn-section">
                    <h5><b>Turn:</b></h5>
                    <div class="row g-2 mb-2 text-center" id="sidebar-turn-container"></div>
                    <button class="btn w-100 btn-dark" id="sidebar-turn-button" disabled>
                        <span id="sidebar-turn-text">Waiting for others...</span><span class="d-none" id="sidebar-turn-countdown-section"> [<span id="sidebar-turn-countdown"></span>]</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
